components:
  schemas:
    AcceptTermsDto:
      properties:
        termsVersion:
          example: v1.0
          type: string
      type: object
    AuthUserDto:
      properties:
        email:
          type: string
        firstName:
          type: string
        id:
          type: string
        lastName:
          type: string
        role:
          enum:
            - ADMIN
            - USER
          type: string
        termsAcceptedAt:
          format: date-time
          nullable: true
          type: string
        termsVersion:
          nullable: true
          type: string
      required:
        - id
        - email
        - firstName
        - lastName
        - role
        - termsAcceptedAt
        - termsVersion
      type: object
    BlogCategoryEntity:
      properties:
        createdAt:
          example: '2026-02-27T12:00:00.000Z'
          format: date-time
          type: string
        id:
          example: cm123categoryid
          type: string
        name:
          example: Productivity
          type: string
        slug:
          example: productivity
          type: string
        updatedAt:
          example: '2026-02-27T12:05:00.000Z'
          format: date-time
          type: string
      required:
        - id
        - name
        - slug
        - createdAt
        - updatedAt
      type: object
    BlogPostEntity:
      properties:
        authorId:
          example: user-id
          type: string
        category:
          $ref: '#/components/schemas/BlogCategoryEntity'
        content:
          example: Full blog content in markdown or plain text.
          type: string
        coverImage:
          example: https://images.example.com/covers/note-guide.jpg
          type: string
        createdAt:
          example: '2026-02-27T12:00:00.000Z'
          format: date-time
          type: string
        excerpt:
          example: A practical guide to structure and retrieve notes faster.
          type: string
        id:
          example: cm123postid
          type: string
        published:
          example: true
          type: boolean
        slug:
          example: how-to-organize-your-notes-efficiently
          type: string
        title:
          example: How to Organize Your Notes Efficiently
          type: string
        updatedAt:
          example: '2026-02-27T12:05:00.000Z'
          format: date-time
          type: string
      required:
        - id
        - title
        - slug
        - excerpt
        - content
        - published
        - authorId
        - createdAt
        - updatedAt
      type: object
    ChangePasswordDto:
      properties:
        currentPassword:
          example: current-password
          type: string
        newPassword:
          example: new-password-123
          type: string
      required:
        - currentPassword
        - newPassword
      type: object
    CreateBlogCategoryDto:
      properties:
        name:
          example: Productivity
          type: string
      required:
        - name
      type: object
    CreateBlogPostDto:
      properties:
        categoryId:
          example: cm123categoryid
          type: string
        content:
          example: Full blog content in markdown or plain text.
          type: string
        coverImage:
          example: https://images.example.com/covers/note-guide.jpg
          type: string
        excerpt:
          example: A practical guide to structure and retrieve notes faster.
          type: string
        published:
          default: false
          example: false
          type: boolean
        title:
          example: How to Organize Your Notes Efficiently
          type: string
      required:
        - title
        - excerpt
        - content
      type: object
    CreateNoteDto:
      properties:
        audioUrl:
          description: Optional audio URL associated with the note
          type: string
        text:
          description: The text content of the note
          type: string
      type: object
    CreateProjectDto:
      properties:
        color:
          description: Project color in hex format
          example: '#2563EB'
          type: string
        name:
          description: Project name
          example: Client calls
          maxLength: 120
          minLength: 1
          type: string
      required:
        - name
        - color
      type: object
    CreateShareLinkDto:
      properties:
        allowSummary:
          example: true
          type: boolean
        allowTranscript:
          example: true
          type: boolean
        expiresInHours:
          example: 24
          maximum: 720
          minimum: 1
          type: number
      required:
        - expiresInHours
        - allowSummary
        - allowTranscript
      type: object
    CreateShareLinkResponseDto:
      properties:
        expiresAt:
          example: '2026-01-01T00:00:00.000Z'
          format: date-time
          type: string
        publicUrl:
          example: http://localhost:3001/public/notes/token
          type: string
      required:
        - publicUrl
        - expiresAt
      type: object
    CreateTagDto:
      properties:
        color:
          description: Tag color in hex format
          example: '#F59E0B'
          type: string
        name:
          description: Tag name
          example: Important
          maxLength: 60
          minLength: 1
          type: string
      required:
        - name
      type: object
    CreateUserDto:
      properties:
        email:
          description: User email address
          type: string
        firstName:
          description: User first name
          type: string
        lastName:
          description: User last name
          type: string
        password:
          description: User password (minimum 6 characters)
          type: string
      required:
        - firstName
        - lastName
        - email
        - password
      type: object
    ErrorResponseDto:
      properties:
        error:
          type: string
        message:
          type: string
        statusCode:
          type: number
      required:
        - statusCode
        - message
        - error
      type: object
    ExportNoteDto:
      properties:
        audioUrl:
          nullable: true
          type: string
        createdAt:
          format: date-time
          type: string
        errorMessage:
          nullable: true
          type: string
        id:
          type: string
        projectId:
          nullable: true
          type: string
        shareLinks:
          items:
            $ref: '#/components/schemas/ExportShareLinkMetadataDto'
          type: array
        status:
          type: string
        summary:
          nullable: true
          type: string
        tags:
          items:
            $ref: '#/components/schemas/ExportTagDto'
          type: array
        text:
          type: string
        transcriptText:
          nullable: true
          type: string
        translation:
          nullable: true
          type: string
        updatedAt:
          format: date-time
          type: string
      required:
        - id
        - text
        - status
        - createdAt
        - updatedAt
        - tags
        - shareLinks
      type: object
    ExportProjectDto:
      properties:
        createdAt:
          format: date-time
          type: string
        id:
          type: string
        name:
          type: string
        updatedAt:
          format: date-time
          type: string
      required:
        - id
        - name
        - createdAt
        - updatedAt
      type: object
    ExportShareLinkMetadataDto:
      properties:
        allowSummary:
          type: boolean
        allowTranscript:
          type: boolean
        createdAt:
          format: date-time
          type: string
        expiresAt:
          format: date-time
          type: string
        id:
          type: string
        noteId:
          type: string
      required:
        - id
        - noteId
        - expiresAt
        - allowSummary
        - allowTranscript
        - createdAt
      type: object
    ExportTagDto:
      properties:
        createdAt:
          format: date-time
          type: string
        id:
          type: string
        name:
          type: string
        slug:
          type: string
        updatedAt:
          format: date-time
          type: string
      required:
        - id
        - name
        - slug
        - createdAt
        - updatedAt
      type: object
    ExportUserDataDto:
      properties:
        notes:
          items:
            $ref: '#/components/schemas/ExportNoteDto'
          type: array
        profile:
          $ref: '#/components/schemas/ExportUserProfileDto'
        projects:
          items:
            $ref: '#/components/schemas/ExportProjectDto'
          type: array
        shareLinks:
          items:
            $ref: '#/components/schemas/ExportShareLinkMetadataDto'
          type: array
        tags:
          items:
            $ref: '#/components/schemas/ExportTagDto'
          type: array
      required:
        - profile
        - notes
        - projects
        - tags
        - shareLinks
      type: object
    ExportUserProfileDto:
      properties:
        billingStatus:
          nullable: true
          type: string
        createdAt:
          format: date-time
          type: string
        currency:
          nullable: true
          type: string
        deletedAt:
          format: date-time
          nullable: true
          type: string
        email:
          type: string
        firstName:
          type: string
        id:
          type: string
        lastLoginAt:
          format: date-time
          nullable: true
          type: string
        lastName:
          type: string
        plan:
          nullable: true
          type: string
        priceCents:
          nullable: true
          type: number
        role:
          type: string
        status:
          type: string
        suspendedAt:
          format: date-time
          nullable: true
          type: string
        termsAcceptedAt:
          format: date-time
          nullable: true
          type: string
        termsVersion:
          nullable: true
          type: string
        updatedAt:
          format: date-time
          type: string
      required:
        - id
        - firstName
        - lastName
        - email
        - role
        - status
        - createdAt
        - updatedAt
      type: object
    ForgotPasswordDto:
      properties:
        email:
          example: user@example.com
          type: string
      required:
        - email
      type: object
    GetNotesResponseDto:
      properties:
        items:
          items:
            type: object
          type: array
        page:
          example: 1
          type: number
        pageSize:
          example: 20
          type: number
        total:
          example: 42
          type: number
      required:
        - items
        - page
        - pageSize
        - total
      type: object
    LoginDto:
      properties:
        email:
          example: user@example.com
          type: string
        password:
          example: password123
          type: string
        rememberMe:
          example: true
          type: boolean
      required:
        - email
        - password
      type: object
    LoginTokenResponseDto:
      properties:
        access_token:
          type: string
        refresh_expires_at:
          format: date-time
          type: string
        refresh_token:
          type: string
        user:
          $ref: '#/components/schemas/AuthUserDto'
      required:
        - access_token
        - refresh_token
        - refresh_expires_at
        - user
      type: object
    LogoutResponseDto:
      properties:
        success:
          type: boolean
      required:
        - success
      type: object
    NoteProcessingStatusDto:
      properties:
        errorMessage:
          example: Failed to transcribe or summarize audio
          type: string
        id:
          example: fdd3bbd4-cf51-4ad9-ae60-4e4813158a5b
          type: string
        status:
          allOf:
            - $ref: '#/components/schemas/NoteStatus'
      required:
        - id
        - status
      type: object
    NoteStatus:
      enum:
        - UPLOADED
        - PROCESSING_SUMMARY
        - PROCESSING_TRANSLATION
        - READY
        - FAILED
      type: string
    PaginatedBlogPostsEntity:
      properties:
        items:
          items:
            $ref: '#/components/schemas/BlogPostEntity'
          type: array
        page:
          example: 1
          type: number
        pageSize:
          example: 10
          type: number
        total:
          example: 42
          type: number
      required:
        - items
        - page
        - pageSize
        - total
      type: object
    ProfileResponseDto:
      properties:
        avatarUrl:
          nullable: true
          type: string
        createdAt:
          format: date-time
          type: string
        email:
          type: string
        firstName:
          type: string
        id:
          type: string
        isBlocked:
          type: boolean
        language:
          type: string
        lastName:
          type: string
        notificationsEnabled:
          type: boolean
        role:
          type: string
        theme:
          enum:
            - light
            - dark
          type: string
        updatedAt:
          format: date-time
          type: string
      required:
        - id
        - email
        - firstName
        - lastName
        - role
        - isBlocked
        - avatarUrl
        - language
        - theme
        - notificationsEnabled
        - createdAt
        - updatedAt
      type: object
    PublicSharedNoteDto:
      properties:
        noteId:
          example: note-id
          type: string
        summary:
          example: Summary text
          type: string
        transcriptText:
          example: Transcript text
          type: string
      required:
        - noteId
      type: object
    RefreshTokenResponseDto:
      properties:
        access_token:
          type: string
        refresh_expires_at:
          format: date-time
          type: string
        refresh_token:
          type: string
      required:
        - access_token
        - refresh_token
        - refresh_expires_at
      type: object
    RegisterDto:
      properties:
        email:
          example: user@example.com
          type: string
        firstName:
          example: John
          type: string
        lastName:
          example: Doe
          type: string
        password:
          example: password123
          type: string
        termsAccepted:
          example: true
          type: boolean
        termsVersion:
          example: v1.0
          type: string
      required:
        - firstName
        - lastName
        - email
        - password
        - termsAccepted
      type: object
    ReplaceNoteTagsDto:
      properties:
        tagIds:
          description: List of tag ids to attach to the note
          items:
            type: string
          type: array
      required:
        - tagIds
      type: object
    ResetPasswordDto:
      properties:
        newPassword:
          example: Str0ngPass!word
          type: string
        token:
          example: raw_reset_token
          type: string
      required:
        - token
        - newPassword
      type: object
    ShareHistoryItemDto:
      properties:
        allowSummary:
          example: true
          type: boolean
        allowTranscript:
          example: true
          type: boolean
        createdAt:
          example: '2025-12-31T00:00:00.000Z'
          format: date-time
          type: string
        expiresAt:
          example: '2026-01-01T00:00:00.000Z'
          format: date-time
          type: string
        id:
          example: cmabc123
          type: string
      required:
        - id
        - expiresAt
        - allowSummary
        - allowTranscript
        - createdAt
      type: object
    ShareNoteDto:
      properties:
        channel:
          enum:
            - EMAIL
            - WHATSAPP
            - NOTION
          type: string
        contentType:
          enum:
            - SUMMARY
            - TRANSLATION
            - BOTH
            - FULL_TRANSCRIPTION
          type: string
        destination:
          example: recipient@example.com
          type: string
        targetLanguage:
          example: fr
          type: string
      required:
        - channel
        - destination
        - contentType
      type: object
    UpdateBlogCategoryDto:
      properties:
        name:
          example: Knowledge Management
          type: string
      required:
        - name
      type: object
    UpdateBlogPostDto:
      properties:
        categoryId:
          example: cm123categoryid
          type: string
        content:
          example: Updated full blog content.
          type: string
        coverImage:
          example: https://images.example.com/covers/new-cover.jpg
          type: string
        excerpt:
          example: Updated excerpt focused on collaboration.
          type: string
        published:
          example: true
          type: boolean
        title:
          example: How to Organize Team Notes Efficiently
          type: string
      type: object
    UpdateNoteProjectDto:
      properties:
        projectId:
          example: cm7l8f9xw0001v1r8z2b4m6n0
          nullable: true
          type: string
      required:
        - projectId
      type: object
    UpdateProfileDto:
      properties:
        firstName:
          example: John
          type: string
        language:
          example: en
          type: string
        lastName:
          example: Doe
          type: string
        notificationsEnabled:
          example: true
          type: boolean
        theme:
          enum:
            - light
            - dark
          example: dark
          type: string
      type: object
    UpdateProjectDto:
      properties:
        color:
          description: Project color in hex format
          example: '#2563EB'
          type: string
        name:
          description: Project name
          example: Client calls
          maxLength: 120
          minLength: 1
          type: string
      type: object
    UpdateTagDto:
      properties:
        color:
          description: Tag color in hex format
          example: '#F59E0B'
          type: string
        name:
          description: Tag name
          example: Important
          maxLength: 60
          minLength: 1
          type: string
      type: object
    UpdateUserDto:
      properties:
        email:
          description: User email address
          type: string
        firstName:
          description: User first name
          type: string
        lastName:
          description: User last name
          type: string
        password:
          description: User password (minimum 6 characters)
          type: string
      type: object
  securitySchemes:
    bearer:
      bearerFormat: JWT
      in: header
      name: Authorization
      scheme: bearer
      type: http
info:
  contact: {}
  description: BlaBlaNote SaaS API documentation
  title: BlaBlaNote API
  version: 1.0.0
openapi: 3.0.0
paths:
  /:
    get:
      operationId: AppController_getData
      parameters: []
      responses:
        '200':
          description: Application is running
      summary: Get application data
      tags:
        - App
  /admin/blog:
    post:
      operationId: BlogController_createPost
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateBlogPostDto'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BlogPostEntity'
          description: ''
        '400':
          description: Validation failed or invalid categoryId
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
      security:
        - bearer: []
      summary: Create blog post (Admin only)
      tags:
        - Blog
  /admin/blog/categories:
    post:
      operationId: BlogController_createCategory
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateBlogCategoryDto'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BlogCategoryEntity'
          description: ''
        '400':
          description: Validation failed
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
      security:
        - bearer: []
      summary: Create blog category (Admin only)
      tags:
        - Blog
  /admin/blog/categories/{id}:
    delete:
      operationId: BlogController_deleteCategory
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Blog category deleted
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Blog category not found
      security:
        - bearer: []
      summary: Delete blog category (Admin only)
      tags:
        - Blog
    patch:
      operationId: BlogController_updateCategory
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateBlogCategoryDto'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BlogCategoryEntity'
          description: ''
        '400':
          description: Validation failed
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Blog category not found
      security:
        - bearer: []
      summary: Update blog category (Admin only)
      tags:
        - Blog
  /admin/blog/{id}:
    delete:
      operationId: BlogController_deletePost
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Blog post deleted
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Blog post not found
      security:
        - bearer: []
      summary: Delete blog post (Admin only)
      tags:
        - Blog
    patch:
      operationId: BlogController_updatePost
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateBlogPostDto'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BlogPostEntity'
          description: ''
        '400':
          description: Validation failed or invalid categoryId
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
        '404':
          description: Blog post not found
      security:
        - bearer: []
      summary: Update blog post (Admin only)
      tags:
        - Blog
  /admin/jobs:
    get:
      operationId: AdminController_getJobs
      parameters:
        - in: query
          name: page
          required: false
          schema:
            default: 1
            example: 1
            type: number
        - in: query
          name: pageSize
          required: false
          schema:
            default: 20
            example: 20
            maximum: 100
            type: number
      responses:
        '200':
          description: Paginated jobs list
        '403':
          description: Forbidden - Admin only
      security:
        - bearer: []
      summary: Get jobs queue notes by status
      tags:
        - Admin
  /admin/stats:
    get:
      operationId: AdminController_getStats
      parameters: []
      responses:
        '200':
          description: Dashboard stats
        '403':
          description: Forbidden - Admin only
      security:
        - bearer: []
      summary: Get admin dashboard stats
      tags:
        - Admin
  /admin/users:
    get:
      operationId: AdminUsersController_getUsers
      parameters:
        - in: query
          name: page
          required: false
          schema:
            default: 1
            type: number
        - in: query
          name: pageSize
          required: false
          schema:
            default: 20
            maximum: 100
            type: number
        - description: Search by firstName, lastName or email
          in: query
          name: search
          required: false
          schema:
            type: string
        - in: query
          name: status
          required: false
          schema:
            items:
              enum:
                - ACTIVE
                - SUSPENDED
                - PENDING
                - DELETED
              type: string
            type: array
        - in: query
          name: role
          required: false
          schema:
            enum:
              - ADMIN
              - USER
            type: string
        - in: query
          name: hasActiveRefreshTokens
          required: false
          schema:
            type: boolean
        - in: query
          name: createdFrom
          required: false
          schema:
            type: string
        - in: query
          name: createdTo
          required: false
          schema:
            type: string
        - in: query
          name: sortBy
          required: false
          schema:
            enum:
              - createdAt
              - lastLoginAt
              - email
              - price
              - notesCount
            type: string
        - in: query
          name: sortDir
          required: false
          schema:
            enum:
              - asc
              - desc
            type: string
      responses:
        '200':
          description: Paginated users list with safe token metadata
        '403':
          description: Forbidden - Admin only
      security:
        - bearer: []
      summary: Get paginated users list (Admin only)
      tags:
        - Admin
  /admin/users/{id}/block:
    patch:
      operationId: AdminUsersController_toggleBlock
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: User blocked status updated
        '403':
          description: Forbidden - Admin only
        '404':
          description: User not found
      security:
        - bearer: []
      summary: Toggle user blocked status (Admin only)
      tags:
        - Admin
  /auth/forgot-password:
    post:
      operationId: AuthController_forgotPassword
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ForgotPasswordDto'
        required: true
      responses:
        '200':
          description: ''
      tags:
        - Auth
  /auth/login:
    post:
      operationId: AuthController_login
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginDto'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LoginTokenResponseDto'
          description: ''
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseDto'
          description: ''
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseDto'
          description: ''
      summary: User login
      tags:
        - Auth
  /auth/logout:
    post:
      operationId: AuthController_logout
      parameters: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LogoutResponseDto'
          description: ''
      summary: Logout and revoke refresh token
      tags:
        - Auth
  /auth/refresh:
    post:
      operationId: AuthController_refresh
      parameters: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/RefreshTokenResponseDto'
          description: ''
        '401':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseDto'
          description: ''
        '429':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponseDto'
          description: ''
      summary: Refresh access and refresh tokens
      tags:
        - Auth
  /auth/register:
    post:
      operationId: AuthController_register
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RegisterDto'
        required: true
      responses:
        '201':
          description: ''
        '409':
          description: ''
      summary: Register a new user
      tags:
        - Auth
  /auth/reset-password:
    post:
      operationId: AuthController_resetPassword
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ResetPasswordDto'
        required: true
      responses:
        '200':
          description: ''
      tags:
        - Auth
  /blog:
    get:
      operationId: BlogController_getPublishedPosts
      parameters:
        - in: query
          name: page
          required: false
          schema:
            default: 1
            example: 1
            type: number
        - in: query
          name: pageSize
          required: false
          schema:
            default: 10
            example: 10
            type: number
        - in: query
          name: categorySlug
          required: false
          schema:
            example: productivity
            type: string
        - in: query
          name: search
          required: false
          schema:
            example: notes
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedBlogPostsEntity'
          description: ''
        '400':
          description: Invalid query parameters
      summary: Get published blog posts with pagination
      tags:
        - Blog
  /blog/categories:
    get:
      operationId: BlogController_getCategories
      parameters: []
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/BlogCategoryEntity'
                type: array
          description: ''
      summary: Get all blog categories
      tags:
        - Blog
  /blog/{slug}:
    get:
      operationId: BlogController_getPublishedPostBySlug
      parameters:
        - in: path
          name: slug
          required: true
          schema:
            example: how-to-organize-your-notes-efficiently
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/BlogPostEntity'
          description: ''
        '404':
          description: Blog post not found
      summary: Get one published blog post by slug
      tags:
        - Blog
  /health:
    get:
      operationId: AppController_getHealth
      parameters: []
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  api:
                    example: up
                    type: string
                  db:
                    example: up
                    type: string
                  status:
                    example: ok
                    type: string
                type: object
          description: Service and database are healthy
      summary: Get service health status
      tags:
        - App
  /me:
    delete:
      operationId: ProfileController_deleteMe
      parameters: []
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  message:
                    example: Account deleted successfully
                    type: string
                  success:
                    example: true
                    type: boolean
                type: object
          description: ''
        '401':
          description: Unauthorized
      security:
        - bearer: []
      summary: Delete current authenticated account
      tags:
        - Profile
    get:
      operationId: ProfileController_getMe
      parameters: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProfileResponseDto'
          description: ''
        '401':
          description: Unauthorized
        '403':
          description: Forbidden
      security:
        - bearer: []
      summary: Get current authenticated profile
      tags:
        - Profile
    patch:
      operationId: ProfileController_updateMe
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateProfileDto'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProfileResponseDto'
          description: ''
        '400':
          description: Validation failed
        '401':
          description: Unauthorized
      security:
        - bearer: []
      summary: Update current authenticated profile
      tags:
        - Profile
  /me/avatar:
    post:
      operationId: ProfileController_uploadAvatar
      parameters: []
      requestBody:
        content:
          multipart/form-data:
            schema:
              properties:
                avatar:
                  format: binary
                  type: string
              required:
                - avatar
              type: object
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ProfileResponseDto'
          description: ''
        '400':
          description: Invalid file or bad request
      security:
        - bearer: []
      summary: Upload profile avatar
      tags:
        - Profile
  /me/export:
    get:
      description: Returns the authenticated user profile with notes, projects, tags, and share links metadata.
      operationId: MeController_exportMyData
      parameters: []
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ExportUserDataDto'
          description: ''
        '401':
          description: Unauthorized
        '404':
          description: User not found
      security:
        - bearer: []
      summary: Export my account data
      tags:
        - Me
  /me/password:
    patch:
      operationId: ProfileController_changePassword
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ChangePasswordDto'
        required: true
      responses:
        '200':
          content:
            application/json:
              schema:
                properties:
                  success:
                    example: true
                    type: boolean
                type: object
          description: ''
        '400':
          description: Current password invalid or validation failed
        '401':
          description: Unauthorized
      security:
        - bearer: []
      summary: Change current authenticated password
      tags:
        - Profile
  /notes:
    get:
      operationId: NoteController_getMyNotes
      parameters:
        - in: query
          name: page
          required: false
          schema:
            default: 1
            example: 1
            type: number
        - in: query
          name: pageSize
          required: false
          schema:
            default: 20
            example: 20
            type: number
        - in: query
          name: search
          required: false
          schema:
            example: meeting
            type: string
        - in: query
          name: projectId
          required: false
          schema:
            example: project-id-1
            type: string
        - description: Filter notes by tags, supports repeated params or comma-separated values
          in: query
          name: tagIds
          required: false
          schema:
            example:
              - tag-id-1
              - tag-id-2
            items: {}
            type: array
        - in: query
          name: dateFrom
          required: false
          schema:
            example: '2026-01-01T00:00:00.000Z'
            type: string
        - in: query
          name: dateTo
          required: false
          schema:
            example: '2026-01-31T23:59:59.999Z'
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetNotesResponseDto'
          description: Paginated notes list
      security:
        - bearer: []
      summary: Get all notes for the current user
      tags:
        - Notes
    post:
      operationId: NoteController_createNote
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateNoteDto'
        required: true
      responses:
        '201':
          description: ''
      security:
        - bearer: []
      summary: Create a new note manually
      tags:
        - Notes
  /notes/{id}:
    get:
      operationId: NoteController_getNoteById
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: ''
      security:
        - bearer: []
      summary: Get one note with processing status details
      tags:
        - Notes
  /notes/{id}/project:
    patch:
      operationId: NoteController_updateNoteProject
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateNoteProjectDto'
        required: true
      responses:
        '200':
          description: ''
      security:
        - bearer: []
      summary: Attach note to a project or remove it
      tags:
        - Notes
  /notes/{id}/share:
    post:
      operationId: NoteController_shareNote
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ShareNoteDto'
        required: true
      responses:
        '201':
          description: ''
      security:
        - bearer: []
      summary: Share a note via email, WhatsApp, or Notion
      tags:
        - Notes
  /notes/{id}/share-link:
    post:
      operationId: NoteController_createShareLink
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateShareLinkDto'
        required: true
      responses:
        '201':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateShareLinkResponseDto'
          description: ''
      security:
        - bearer: []
      summary: Create a public share link for a note
      tags:
        - Notes
  /notes/{id}/shares:
    get:
      operationId: NoteController_getShareHistory
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                items:
                  $ref: '#/components/schemas/ShareHistoryItemDto'
                type: array
          description: ''
      security:
        - bearer: []
      summary: Get share link history for a note
      tags:
        - Notes
  /notes/{id}/summarize:
    post:
      operationId: NoteController_summarizeNote
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NoteProcessingStatusDto'
          description: ''
      security:
        - bearer: []
      summary: Trigger note summarization
      tags:
        - Notes
  /notes/{id}/tags:
    put:
      operationId: NoteController_replaceNoteTags
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReplaceNoteTagsDto'
        required: true
      responses:
        '200':
          description: ''
      security:
        - bearer: []
      summary: Replace tags of a note
      tags:
        - Notes
  /notes/{id}/translate:
    post:
      operationId: NoteController_translateNote
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NoteProcessingStatusDto'
          description: ''
      security:
        - bearer: []
      summary: Trigger note translation
      tags:
        - Notes
  /projects:
    get:
      operationId: ProjectController_getProjects
      parameters: []
      responses:
        '200':
          description: Projects list
        '401':
          description: Unauthorized
      security:
        - bearer: []
      summary: List current user projects
      tags:
        - Projects
    post:
      operationId: ProjectController_createProject
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateProjectDto'
        required: true
      responses:
        '201':
          description: Project created successfully
        '401':
          description: Unauthorized
      security:
        - bearer: []
      summary: Create a project
      tags:
        - Projects
  /projects/{id}:
    delete:
      operationId: ProjectController_deleteProject
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Project deleted successfully
        '401':
          description: Unauthorized
        '404':
          description: Project not found
      security:
        - bearer: []
      summary: Delete a project
      tags:
        - Projects
    patch:
      operationId: ProjectController_updateProject
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateProjectDto'
        required: true
      responses:
        '200':
          description: Project renamed successfully
        '401':
          description: Unauthorized
        '404':
          description: Project not found
      security:
        - bearer: []
      summary: Update a project
      tags:
        - Projects
  /public/notes/{token}:
    get:
      operationId: PublicNoteController_getSharedNote
      parameters:
        - in: path
          name: token
          required: true
          schema:
            type: string
      responses:
        '200':
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PublicSharedNoteDto'
          description: Shared note fetched successfully
        '404':
          description: Share link not found
      summary: Get a shared note by public token
      tags:
        - Public Notes
  /shares/{id}:
    delete:
      operationId: ShareController_revokeShareLink
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Share link revoked successfully
        '401':
          description: Unauthorized
        '404':
          description: Share link not found
      security:
        - bearer: []
      summary: Revoke a share link
      tags:
        - Share
  /tags:
    get:
      operationId: TagController_getTags
      parameters: []
      responses:
        '200':
          description: Tags list
        '401':
          description: Unauthorized
      security:
        - bearer: []
      summary: List current user tags
      tags:
        - Tags
    post:
      operationId: TagController_createTag
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateTagDto'
        required: true
      responses:
        '201':
          description: Tag created successfully
        '401':
          description: Unauthorized
      security:
        - bearer: []
      summary: Create a tag
      tags:
        - Tags
  /tags/{id}:
    delete:
      operationId: TagController_deleteTag
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Tag deleted successfully
        '401':
          description: Unauthorized
        '404':
          description: Tag not found
      security:
        - bearer: []
      summary: Delete a tag
      tags:
        - Tags
    patch:
      operationId: TagController_updateTag
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateTagDto'
        required: true
      responses:
        '200':
          description: Tag renamed successfully
        '401':
          description: Unauthorized
        '404':
          description: Tag not found
      security:
        - bearer: []
      summary: Rename a tag
      tags:
        - Tags
  /users:
    get:
      operationId: UserController_getAllUsers
      parameters: []
      responses:
        '200':
          description: List of users
        '401':
          description: Unauthorized
      security:
        - bearer: []
      summary: Get all users (Requires JWT)
      tags:
        - Users
    post:
      operationId: UserController_createUser
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateUserDto'
        required: true
      responses:
        '201':
          description: User created successfully
        '403':
          description: Forbidden - Admin access required
      security:
        - bearer: []
      summary: Create a new user (Admin only)
      tags:
        - Users
  /users/me/accept-terms:
    post:
      operationId: UserController_acceptTerms
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AcceptTermsDto'
        required: true
      responses:
        '200':
          description: Terms accepted
      security:
        - bearer: []
      summary: Accept terms and conditions
      tags:
        - Users
  /users/{id}:
    delete:
      operationId: UserController_deleteUser
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: User deleted
        '401':
          description: Unauthorized
        '404':
          description: User not found
      security:
        - bearer: []
      summary: Delete user (Requires JWT)
      tags:
        - Users
    get:
      operationId: UserController_getUserById
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: User found
        '401':
          description: Unauthorized
        '404':
          description: User not found
      security:
        - bearer: []
      summary: Get user by ID (Requires JWT)
      tags:
        - Users
    put:
      operationId: UserController_updateUser
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateUserDto'
        required: true
      responses:
        '200':
          description: User updated
        '401':
          description: Unauthorized
        '404':
          description: User not found
      security:
        - bearer: []
      summary: Update user (Requires JWT)
      tags:
        - Users
  /users/{id}/role:
    put:
      operationId: UserController_updateUserRole
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
        - in: query
          name: role
          required: true
          schema:
            type: string
      responses:
        '200':
          description: User role updated
        '404':
          description: User not found
      security:
        - bearer: []
      summary: Update user role (Admin only)
      tags:
        - Users
  /whisper/transcribe:
    post:
      operationId: WhisperController_transcribe
      parameters: []
      requestBody:
        content:
          multipart/form-data:
            schema:
              properties:
                file:
                  format: binary
                  type: string
              type: object
        required: true
      responses:
        '200':
          description: Transcription russie
        '400':
          description: Fichier invalide
      security:
        - bearer: []
      summary: Transcrire un fichier audio
      tags:
        - Whisper
servers: []
tags:
  - description: ''
    name: Auth
  - description: ''
    name: Notes
  - description: ''
    name: Projects
  - description: ''
    name: Tags
  - description: ''
    name: Profile
  - description: ''
    name: Share
  - description: ''
    name: Admin
  - description: ''
    name: Blog
